function give_open_form_modal(e,t){var n="#give_purchase_form_wrap, #give-payment-mode-select, .mfp-close, .give-hidden";e.hasClass("give-display-button-only")&&(n="h2, div, ul, fieldset, label, .mfp-close"),jQuery.magnificPopup.open({mainClass:"give-modal",closeOnBgClick:!1,items:{src:t,type:"inline"},callbacks:{beforeOpen:function(){if(e.hasClass("give-display-button-only")&&!t.data("content")){var n=jQuery(".give-form-content-wrap",e),r=jQuery(".give-form-title",e),a=jQuery(".give-goal-progress",e),i=jQuery(">.give_error",e),l=jQuery(".give_errors",e);n.length&&!jQuery(".give-form-content-wrap",t).length&&(n.hasClass("give_post_form-content")?t.append(n):t.prepend(n)),l.length&&!jQuery(".give_errors",t).length&&l.each(function(e,n){t.prepend(jQuery(n))}),i.length&&!jQuery(">.give_error",t).length&&i.each(function(e,n){t.prepend(jQuery(n))}),a.length&&!jQuery(".give-goal-progress",t).length&&t.prepend(a),r.length&&!jQuery(".give-form-title",t).length&&t.prepend(r),t.data("content","loaded")}},open:function(){var e=jQuery(".mfp-content");e.outerWidth()>=500&&e.addClass("give-responsive-mfp-content"),t.children().not(n).hide()},close:function(){t.removeClass("mfp-hide"),t.children().not(n).show()}}})}function give_fl_trigger(){var e={exclude:['#give-amount, .give-select-level, .multiselect, .give-repeater-table input, input[type="url"]'],customEvent:give_fl_custom_events};jQuery(".float-labels-enabled").floatlabels(e)}function give_fl_custom_events(e){e.hasClass("card-number")&&e.after('<span class="off card-type"/>')}function give_change_html5_form_field_validation_message(){var e,t=jQuery(".give-form");t.length&&jQuery.each(t,function(t,n){e=jQuery("input",n),e.length&&jQuery.each(e,function(e,t){t=jQuery(t).get(0),give_global_vars.form_translation.hasOwnProperty(t.name)&&(t.oninvalid=function(e){e.target.setCustomValidity(""),e.target.validity.valid||e.target.setCustomValidity(give_global_vars.form_translation[t.name])})})})}var give_scripts;jQuery(function(e){var t=e(document);give_fl_trigger(),give_change_html5_form_field_validation_message(),t.on("give_gateway_loaded",function(e,t,n){give_fl_trigger()}),t.on("give_checkout_billing_address_updated",function(t,n,r){var a=e("form#"+r);if(a.hasClass("float-labels-enabled")){var i=a.find("#give-card-state-wrap"),l=i.find("#card_state"),o=i.find('label[for="card_state"]');o=o.length?o.text().replace(/[*:]/g,"").trim():"","nostates"===n?l.attr("placeholder",o).parent().removeClass("styled select"):(l.children().first().text(o),l.parent().addClass("styled select")),l.parent().removeClass("is-active"),give_fl_trigger()}}),t.on("click",".give-btn-reveal",function(t){t.preventDefault();var n=e(this),r=e(this).parents("form");return n.hide(),r.find("#give-payment-mode-select, #give_purchase_form_wrap").slideDown(),!1}),t.on("click",".give-btn-modal",function(t){t.preventDefault();var n=e(this).parents("div.give-form-wrap"),r=n.find("form.give-form"),a=r.find("#give-amount"),i=a.val();return!i||i<=0?(a.focus(),!1):void give_open_form_modal(n,r)})});